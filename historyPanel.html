<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>AppEngine Console Fix History</title>

    <link rel="stylesheet" href="lib/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="history-panel.css">

    <!--Third-party JS libraries-->
    <script src="lib/jquery/jquery-2.1.4.min.js"></script>
    <script src="lib/sorttable/sorttable.js"></script>
    <script src="lib/angular/angular-1.4.5.min.js"></script>
    <script src="lib/codemirror/lib/codemirror-compressed-4.1.js"></script>

    <!--Javascript-->
    <script src="history-panel.js"></script>
</head>
<body ng-app="historyPanel">
    <div id="rootContainer" class="platform-mac" ng-controller="HistoryPanelCtrl">

        <div class="data-grid">

            <div class="flat-view" ng-if="!options.selectedHistoryItem">
                <table class="grid-header">
                    <thead>
                    <tr>
                        <th ng-click="order('timestamp')">Timestamp</th>
                        <th ng-click="order('location')" ng-show="!options.selectedHistoryItem">Location</th>
                        <th ng-click="order('url')" ng-show="!options.selectedHistoryItem">URL</th>
                        <th ng-click="order('contentLength')" ng-show="!options.selectedHistoryItem">Content Length</th>
                        <th ng-click="order('content')" ng-show="!options.selectedHistoryItem">Content</th>
                    </tr>
                    </thead>
                </table>

                <table class="grid-body">
                    <thead>
                    <tr>
                        <th>Timestamp</th>
                        <th>Location</th>
                        <th>URL</th>
                        <th>Content Length</th>
                        <th>Content</th>
                    </tr>
                    </thead>
                    <tr ng-repeat="item in history track by item.timestamp" ng-click="selectHistoryItem(item)">
                        <td>{{item.prettyTimestamp}}</td>
                        <td>{{item.location}}</td>
                        <td>{{item.url}}</td>
                        <td>{{item.contentLength}}</td>
                        <td>{{item.content}}</td>
                    </tr>
                </table>

            </div>

            <div class="item-selected-view" ng-if="options.selectedHistoryItem">
                <div class="timestamp-column">
                    <table class="grid-header">
                        <thead>
                        <tr>
                            <th ng-click="order('timestamp')">Timestamp</th>
                        </thead>
                    </table>
                    <table class="timestamp-table">
                        <thead>
                        <tr>
                            <th>Timestamp</th>
                        </tr>
                        </thead>
                        <tr ng-repeat="item in history track by item.timestamp" ng-click="selectHistoryItem(item)">
                            <td>{{item.prettyTimestamp}}</td>
                        </tr>
                    </table>
                </div>
                <div class="code-column">
                    <a class="close" ng-click="options.selectedHistoryItem = null">Ã—</a>
                    <textarea code-area content="options.selectedHistoryItem.content"></textarea>
                </div>
            </div>

            <div class="no-content" ng-if="history.items.length == 0">
                <i class="ion-clock icon-2x"></i> <br>
            </div>

            <div class="summary-bar">{{summary.logCount}} records | {{summary.bytesInUse}} </div>
        </div>




    </div>
</body>

</html>